
import React, { useState } from "react";
import img0 from "../assets/img/markus-spiske-KWQ2kQtxiKE-unsplash 3.png";
import img1 from "../assets/img/image 133.png";
import img2 from "../assets/img/image 127.png";
import img3 from "../assets/img/image 130.png";

// تحويل HEX إلى RGBA لشفافية الخلفية
const hexToRGBA = (hex, alpha = 1) => {
  const r = parseInt(hex.slice(1, 3), 16);
  const g = parseInt(hex.slice(3, 5), 16);
  const b = parseInt(hex.slice(5, 7), 16);
  return `rgba(${r}, ${g}, ${b}, ${alpha})`;
};

const StartQuiz = () => {
  const imageData = [
    {
      image: img0,
      blendMode: "normal",
      color: "#005F2D", // لون الخلفية الرئيسي
      secondaryColor: "#E5EFEA", // لون خلفية main-container
    },
    {
      image: img1,
      blendMode: "luminosity",
      color: "#733493",
      secondaryColor: "#F1EBF5",
    },
    {
      image: img2,
      blendMode: "luminosity",
      color: "#997500",
      secondaryColor: "#F5F1E5",
    },
    {
      image: img3,
      blendMode: "normal",
      color: "#00219E",
      secondaryColor: "#E5E9F5",
    },
  ];

  const [activeIndex, setActiveIndex] = useState(0);

  const handleMouseEnter = (index) => {
    setActiveIndex(index);
  };

  const handleMouseLeave = () => {
    setActiveIndex(0); // يرجع للصورة واللون الأصلي
  };

  const active = imageData[activeIndex];
  const bodyBgColor = hexToRGBA(active.color, 0.1);
  const containerBgColor = active.secondaryColor;

  return (
    <div
      className="quiz-body"
      style={{
        backgroundColor: bodyBgColor,
        transition: "background-color 2s ease-in-out",
      }}
    >
      <div
        className="background-image"
        style={{
          backgroundColor: active.color,
        }}
      >
        {imageData.map((item, index) => (
          <img
            key={index}
            src={item.image}
            alt={`background-${index}`}
            style={{
              mixBlendMode: item.blendMode,
            }}
            className={index === activeIndex ? "active" : ""}
          />
        ))}
      </div>

      <div
        className="main-container"
        style={{
          backgroundColor: containerBgColor,
          border: `1px solid ${hexToRGBA(active.color, 0.8)}`,
          transition: "background-color 2s ease-in-out, border 0.5s ease-in-out",
        }}
      >
        <button
          className="option word-cup"
          onMouseEnter={() => handleMouseEnter(2)}
          onMouseLeave={handleMouseLeave}
        >
                    <svg
            width="255"
            height="450"
            viewBox="0 0 255 450"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M137.2 0C144.59 2.01 152.31 2.66 159.54 5.38C193.45 18.13 215.35 41.72 224.2 77.05C225 80.24 225.64 82.02 229.91 82.09C240.37 82.27 247.15 88.4 250.93 97.9C255.29 108.88 254.36 120.34 253.53 131.7C250.77 169.48 236.88 203.72 219.56 236.82C208.79 257.41 196.49 277.15 186.04 297.91C180.62 308.69 176.31 319.75 176.57 332.17C176.93 349.17 183.37 363.77 194.07 376.52C198.11 381.33 199.91 386.14 199.77 392.39C199.43 407.45 199.67 422.53 199.66 437.59C199.65 446.47 196.63 449.55 187.89 449.55C147.36 449.56 106.84 449.56 66.31 449.55C57.73 449.55 54.6 446.46 54.59 437.98C54.57 422.03 54.72 406.08 54.5 390.14C54.43 385.25 55.98 381.48 59.13 377.86C68.01 367.64 74.1 355.97 76.68 342.58C79.78 326.54 75.44 311.96 68.21 297.84C57.68 277.28 45.58 257.6 34.87 237.15C20.73 210.14 8.66 182.32 3.35 152.06C0.639999 136.63 -1.42 121.07 1.22 105.42C2.9 95.47 7.32 87.15 17.54 83.27C19.91 82.37 22.47 81.65 24.8 81.99C28.78 82.57 29.23 80.34 29.97 77.44C39.95 38.24 64.81 13.67 103.56 2.79C107.71 1.63 112.14 1.85 116.13 0.01C123.15 0 130.18 0 137.2 0ZM156.72 136.02C166.2 117.97 186.97 112.21 201.97 121.26C203.83 122.38 204.37 121.68 204.88 119.81C207.88 108.86 209.72 97.9 207.59 86.49C201.92 56.19 185.1 34.59 156.34 23.67C126.26 12.25 97.86 17.18 73.53 38.23C46.56 61.58 37.67 95.01 53.62 132.22C55.93 137.61 58.54 142.81 62.48 147.25C67.49 152.9 72.37 154.11 79.34 151.29C85.63 148.75 90.43 144.27 94.69 139.19C101.73 130.79 108.44 122.1 115.64 113.84C122.17 106.34 129.82 106.04 137.13 112.49C138.66 113.84 140.12 115.3 141.4 116.88C146.46 123.1 151.43 129.38 156.72 136.02ZM95.8 325.61C97.85 324.79 98.69 323.17 99.8 321.88C111.84 307.88 124.9 294.94 138.87 282.86C154.9 268.99 171.2 255.42 186.12 240.3C200.54 225.69 212.8 209.43 220.7 190.57C230.51 167.11 236.17 142.49 235.86 116.82C235.81 112.16 235.74 107.43 233.38 103.17C232.52 101.62 231.57 99.98 229.48 100.17C227.34 100.37 226.88 102.3 226.3 103.92C225.96 104.87 225.81 105.91 225.71 106.92C224.66 117.76 221.82 128.16 217.76 138.22C216.94 140.25 217.01 142.22 217.27 144.24C219.01 157.33 214.02 167.6 203.24 174.62C192.23 181.79 180.38 181.93 169.45 174.57C161.65 169.32 154.62 162.88 147.51 156.66C139.6 149.74 134.12 140.85 128.74 131.97C127.17 129.38 126.34 128.49 124.08 131.47C117.02 140.78 110.25 150.37 101.35 158.12C99.64 159.61 100.08 161.15 100.58 162.87C101.85 167.21 103.21 171.53 104.34 175.91C111.25 202.65 116.03 229.66 112.6 257.4C110.55 273.98 105.45 289.36 91.82 300.47C90.68 301.4 90.09 302.39 90.68 303.87C93.49 310.8 94.83 318.1 95.8 325.61ZM178.08 273.95C175.62 274.31 174.73 275.75 173.57 276.75C165.58 283.61 157.7 290.6 149.66 297.4C118.73 323.55 94.64 355.37 73.27 389.45C71.07 392.97 72.63 395.7 76.61 395.7C110.26 395.71 143.9 395.71 177.55 395.7C181.6 395.7 183.05 393.13 181 389.52C180.36 388.39 179.38 387.46 178.58 386.41C165.52 369.13 157.54 350.08 158.37 328C158.95 312.53 165.18 298.86 172.06 285.41C173.95 281.7 175.92 278.05 178.08 273.95ZM82.4 285.61C83.11 284.33 83.37 283.61 83.84 283.07C91.57 274.08 94.08 263.12 94.92 251.82C96.94 224.49 91.73 198.03 84.47 171.86C83.78 169.37 82.55 169.13 80.32 169.68C74.97 170.99 69.58 170.9 64.29 169.34C52.77 165.93 46.01 157.17 40.37 147.41C32.54 133.87 29.48 118.88 27.59 103.57C27.42 102.17 27.72 100.52 25.68 100.13C23.85 99.79 22.52 100.58 21.56 102C19.54 104.99 18.81 108.4 18.63 111.95C17.14 141.65 24.66 169.53 35.75 196.69C45.61 220.83 59.05 243.12 71.51 265.92C74.91 272.16 78.39 278.38 82.4 285.61ZM127.1 413.57C113.5 413.57 99.9 413.55 86.3 413.58C81.92 413.59 76.06 412.06 73.56 414.27C70.68 416.81 73.03 422.82 72.57 427.29C72.22 430.72 73.39 431.79 76.92 431.74C92.71 431.55 108.51 431.66 124.3 431.66C141.85 431.66 159.4 431.53 176.95 431.76C180.96 431.81 182.09 430.57 181.72 426.8C181.42 423.76 181.43 420.64 181.72 417.6C182.04 414.25 180.82 413.46 177.56 413.49C160.73 413.66 143.91 413.57 127.1 413.57ZM185.91 135.01C178.57 135.01 172.45 141.09 172.47 148.37C172.49 155.42 178.82 161.64 186.05 161.71C193.54 161.78 199.64 155.88 199.6 148.61C199.56 141.09 193.45 135.01 185.91 135.01Z"
              className="wordCup-shape"
            />
          </svg>

          <p className="word-cup">word-cup</p>
        </button>

        <button
          className="option UCL"
          onMouseEnter={() => handleMouseEnter(3)}
          onMouseLeave={handleMouseLeave}
        >
                    <svg
            width="327"
            height="449"
            viewBox="0 0 327 449"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M163.78 448.93C135.46 448.93 107.15 448.88 78.84 449C75.54 449.01 73.93 448.43 73.84 444.69C73.74 440.58 72.96 436.47 72.23 432.41C71.74 429.71 72.52 428.59 75.23 427.71C86.3 424.12 96.84 419.34 106.1 412.12C108.23 410.46 110.3 408.71 112.21 406.81C124.11 394.94 125.04 387.99 116.49 373.55C99.06 344.12 83.84 313.64 72.7 281.24C72 279.19 70.55 277.8 69.44 276.1C40.74 232.15 18.62 185.31 6.98 133.89C1.19 108.29 -1.89001 82.4499 3.43999 56.3699C7.71999 35.4099 17.25 17.6999 37.34 7.80992C54.03 -0.400084 71.65 -1.41008 89.34 3.80992C105.72 8.63992 115.37 22.3899 115.98 39.9799C116.56 56.7699 111.53 72.2399 104.99 87.3599C102.81 92.3999 102.78 92.3999 108.02 92.3999C145.24 92.3999 182.47 92.3499 219.69 92.4699C223.7 92.4799 224.57 91.8999 222.75 87.8999C216.19 73.5099 211.29 58.6099 211.39 42.5299C211.53 19.0099 225.66 3.71992 249.05 1.44992C268.44 -0.440084 286.56 2.52992 301.82 15.5699C316.12 27.7899 322.37 44.2799 325.02 62.3199C329.27 91.1999 324.69 119.38 317.22 147.16C304.78 193.41 284.29 236.03 258 275.93C256.34 278.45 254.85 280.94 253.85 283.79C242.78 315.2 227.93 344.8 211.01 373.41C202.32 388.11 203.2 394.98 215.42 407.01C225.49 416.92 237.86 422.99 251.15 427.23C254.76 428.38 255.92 429.93 255 433.65C254.16 437.02 253.55 440.57 253.63 444.02C253.73 448.53 251.59 449.01 247.79 448.99C219.77 448.86 191.78 448.93 163.78 448.93ZM208.33 428.18C206.24 426.32 204.87 425.25 203.67 424.01C200.79 421.05 197.75 418.21 195.21 414.97C182.34 398.55 181.19 384.03 191.72 366.04C204.96 343.42 217.34 320.39 227.32 296.12C244.17 255.14 254.31 212.55 258.07 168.42C258.48 163.66 257.97 160.71 252.76 158.24C238.8 151.62 231.15 140.45 232.02 124.39C232.14 122.17 231.78 119.9 232.09 117.72C232.67 113.56 230.86 112.84 227.05 112.86C187.14 113 147.23 112.93 107.31 112.98C103.53 112.98 98.63 111.35 96.25 113.65C93.64 116.17 95.29 121.18 95.43 125.06C95.92 138.78 90.52 150.04 78.51 155.81C69.24 160.26 69.02 165.8 69.85 174.33C74.2 219.11 85.35 262.05 103.1 303.33C112.46 325.09 123.87 345.77 135.76 366.23C146.29 384.35 144.92 399.16 131.8 415.56C128.91 419.17 125.64 422.4 122.17 425.47C121.36 426.19 119.74 426.52 120.13 428.2C149.23 428.18 178.26 428.18 208.33 428.18ZM274.5 201.2C276.86 200.6 276.95 199.17 277.43 198.08C286.98 176.74 294.82 154.8 300.04 132C305.47 108.31 308.76 84.3999 303.89 60.1999C300.3 42.3399 291.93 28.0799 272.84 22.9399C266.62 21.2699 260.28 21.1699 253.91 21.4599C237.28 22.2099 229.9 31.1399 231.88 47.7299C233.31 59.7099 236.05 71.6699 242.5 81.5499C251.76 95.7099 253.71 110.65 252.42 126.71C252.02 131.66 254.36 135.22 258.22 138C262.15 140.83 266.6 142.42 271.22 143.7C276.56 145.18 279.19 148.64 279.17 154.11C279.16 157.13 278.91 160.15 278.71 163.16C277.83 175.77 276.74 188.35 274.5 201.2ZM51.82 201.67C52.47 198.09 51.94 195.67 51.62 193.25C49.94 180.64 48.76 167.97 48.24 155.26C47.97 148.55 50.48 145.31 56.9 143.52C60.58 142.49 64.12 141.17 67.42 139.19C72.63 136.07 75.41 131.83 75.05 125.48C74.72 119.77 75.23 114.02 74.91 108.31C74.6 102.73 75.66 97.9199 78.99 93.1999C83.38 86.9699 86.28 79.8399 89.03 72.7299C92.24 64.4099 94.66 55.8799 95.61 46.9699C96.92 34.6599 92.99 26.1599 83.43 23.4299C64 17.8699 36.14 21.0699 26.16 50.3999C21.67 63.5899 20.82 77.1499 21.44 90.8599C22.83 121.68 31.23 150.9 42.22 179.48C44.97 186.65 47.64 193.87 51.82 201.67Z"
              className="UCL-shape"
            />
          </svg>

          <p className="UCL">UCL</p>
        </button>

        <button
          className="option player"
          onMouseEnter={() => handleMouseEnter(1)}
          onMouseLeave={handleMouseLeave}
        >
                    <svg
            width="494"
            height="450"
            viewBox="0 0 494 450"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M399.31 449.91C297.85 449.91 196.38 449.91 94.92 449.91C94.98 449.14 95.11 448.36 95.11 447.59C95.12 354.15 95.1 260.71 95.2 167.27C95.2 163.23 94.1399 162.95 90.7199 164.28C72.5699 171.35 54.33 178.17 36.18 185.24C33.34 186.35 32.1799 185.97 31.2199 182.98C21.34 152.12 11.4 121.28 1.29997 90.4899C0.299968 87.4399 1.35001 86.4499 3.78001 85.2699C14.43 80.0699 24.93 74.5599 35.62 69.4299C66.25 54.7299 95.87 37.9699 127.45 25.1999C153.88 14.5099 180.94 6.40986 209.29 2.78986C214.26 2.15986 219.48 2.75986 224.17 0.359863C239.16 0.359863 254.14 0.359863 269.13 0.359863C269.57 1.53986 270.63 1.23986 271.5 1.29986C313.17 4.42986 352.14 17.1699 389.53 35.0799C415.68 47.5999 441.45 60.9099 467.45 73.7299C476.23 78.0599 484.7 83.0699 493.91 86.5199C493.91 87.1399 493.91 87.7699 493.91 88.3899C493 88.9499 493.01 89.9699 492.73 90.8399C482.88 121.23 472.93 151.58 463.3 182.04C462.04 186.03 460.66 186.28 457.2 184.93C439.79 178.12 422.29 171.5 404.83 164.82C399.1 162.63 399.09 162.62 399.09 168.62C399.09 260.67 399.09 352.73 399.1 444.78C399.1 446.49 399.24 448.2 399.31 449.91ZM381.26 269.33C381.26 219.54 381.26 169.74 381.26 119.95C381.26 106 381.26 106.08 395.41 106.52C398.27 106.61 399.18 107.49 399.14 110.33C399 119.69 399.22 129.06 399.01 138.42C398.94 141.57 399.87 143.08 402.95 144.13C417.56 149.12 432.12 154.27 446.6 159.65C450.2 160.99 451.59 160.64 452.8 156.73C458.61 137.98 464.66 119.3 470.89 100.69C472.12 97.0199 471.66 95.3699 468.02 93.5799C438.47 79.0699 409.15 64.0899 379.53 49.7299C365.93 43.1399 351.71 37.8499 337.41 32.8699C335.56 32.2299 333.88 31.1799 332.43 34.0299C324.74 49.1599 311.9 58.6099 296.55 64.6099C266.21 76.4699 235.37 76.9399 204.4 67.0999C189.07 62.2299 175.77 54.1799 165.81 41.1199C163.56 38.1699 163.29 32.7299 159.15 32.4999C155.55 32.2999 151.79 34.7099 148.13 36.0699C105.29 51.9699 65.76 74.8699 24.68 94.4999C22.15 95.7099 22.28 97.1799 22.99 99.3699C29.31 118.78 35.61 138.19 41.76 157.65C42.73 160.71 44.04 160.99 46.81 159.99C61.77 154.56 76.76 149.23 91.8 144.02C94.51 143.08 95.35 141.65 95.29 138.9C95.12 132.04 95.23 125.16 95.23 118.3C95.23 106.6 95.23 106.6 106.89 106.61C113.01 106.61 113.01 106.61 113.01 112.55C113.01 216.67 113.01 320.78 113.01 424.9C113.01 426.15 113.12 427.41 112.99 428.64C112.7 431.48 113.83 432.44 116.71 432.4C125.92 432.25 135.13 432.2 144.34 432.42C147.8 432.5 148.51 431.13 148.45 428.03C148.29 419.6 148.27 411.17 148.45 402.74C148.54 398.43 146.48 392.88 149.38 390.15C152.22 387.48 157.74 389.71 162.04 389.27C165.35 388.93 166.26 390.21 166.21 393.46C166.03 405.01 166.24 416.56 166.07 428.11C166.02 431.28 166.78 432.47 170.18 432.42C182.35 432.23 194.53 432.23 206.7 432.42C209.95 432.47 210.6 431.24 210.56 428.35C210.42 419.77 210.43 411.18 210.55 402.6C210.6 398.42 208.78 393.07 211.3 390.36C214.08 387.38 219.58 389.87 223.85 389.29C227.78 388.76 228.5 390.6 228.45 394.09C228.27 405.48 228.45 416.88 228.34 428.27C228.31 431.15 228.96 432.46 232.21 432.42C245.16 432.26 258.12 432.26 271.08 432.42C274.25 432.46 275.03 431.34 274.97 428.37C274.8 419.79 274.77 411.2 274.97 402.62C275.07 398.33 272.97 392.81 275.95 390.07C278.64 387.6 284.03 389.68 288.19 389.28C291.64 388.95 292.78 390.09 292.71 393.67C292.48 405.06 292.74 416.46 292.55 427.85C292.49 431.23 293.3 432.53 296.93 432.43C305.98 432.18 315.04 432.21 324.09 432.42C327.45 432.5 328.28 431.35 328.23 428.14C328.06 416.44 328.24 404.73 328.11 393.02C328.08 390.19 328.91 389.08 331.81 389.26C335.08 389.46 338.38 389.53 341.64 389.24C345.26 388.92 346.13 390.36 346.07 393.78C345.88 405.17 346.13 416.57 345.92 427.96C345.85 431.53 347.01 432.5 350.47 432.41C358.89 432.18 367.34 432.07 375.75 432.44C380.36 432.65 381.38 431.13 381.36 426.7C381.2 374.22 381.26 321.78 381.26 269.33ZM247.42 17.9599C225.34 17.9099 203.59 20.4999 182.09 25.6099C177.81 26.6299 178.4 28.0099 180.41 30.6999C185.97 38.1399 193.15 43.5699 201.62 47.0899C231.39 59.4299 261.37 59.4499 291.28 47.6999C300.24 44.1799 307.9 38.5699 313.73 30.6799C315.95 27.6799 316.12 26.3099 311.84 25.3299C290.64 20.4599 269.19 17.9099 247.42 17.9599Z"
              className="Player-shape"
            />
            <path
              d="M339.38 224.02C339.26 243.26 337.26 264.25 328.17 283.97C326.01 288.66 323.35 293.05 319.86 296.9C308.34 309.59 292.49 309.36 281.39 296.24C275.24 288.97 271.38 280.45 268.87 271.37C259.8 238.5 260.02 205.8 271.29 173.43C273.55 166.93 276.85 160.88 281.39 155.62C293.09 142.06 309.32 142.19 320.76 155.96C327.37 163.91 331.05 173.33 333.82 183.13C337.4 195.81 338.81 208.8 339.38 224.02ZM321.53 223.16C321.68 215.67 320.7 205.27 318.5 195.02C316.46 185.52 313.69 176.24 307.8 168.28C302.81 161.53 298.97 161.6 293.9 168.38C291.17 172.03 289.13 176.08 287.66 180.37C278.1 208.41 278.07 236.72 285.58 265.18C287.3 271.69 289.85 277.91 293.9 283.37C299.02 290.28 302.97 290.22 308.09 283.23C310.97 279.29 313.01 274.9 314.65 270.34C319.8 256.06 321.49 241.24 321.53 223.16Z"
              className="Player-shape"
            />
            <path
              d="M197.52 204.75C192.73 211.83 187.85 218.86 183.19 226.03C181.74 228.25 180.14 229.14 177.48 229.04C171.93 228.84 166.38 228.98 159.83 228.98C178.69 200.8 197 173.44 215.49 145.8C216.85 147.88 216.3 149.63 216.3 151.26C216.35 195.28 216.35 239.3 216.39 283.31C216.4 290.54 215.75 289.64 222.53 289.67C229.4 289.71 236.27 289.8 243.13 289.62C245.98 289.55 247.06 290.45 246.89 293.34C246.69 296.76 246.68 300.22 246.89 303.64C247.08 306.65 245.73 307.29 243.03 307.28C219.3 307.21 195.58 307.19 171.85 307.29C168.77 307.3 167.67 306.37 167.96 303.29C168.37 298.97 166.21 293.41 168.79 290.62C171.43 287.77 177.05 289.89 181.36 289.72C186.04 289.54 190.72 289.64 195.41 289.69C197.36 289.71 198.69 289.41 198.68 286.95C198.63 259.69 198.65 232.42 198.65 205.16C198.28 205.02 197.9 204.88 197.52 204.75Z"
              className="Player-shape"
            />
          </svg>

          <p className="player">Player</p>
        </button>
      </div>
    </div>
  );
};

export default StartQuiz;
